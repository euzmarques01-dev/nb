<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TSE – Eleições Gerais</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;font-family:Roboto}
body{margin:0;background:#f4f6f8}

/* HEADER */
header{
  background:#002776;
  color:#fff;
  padding:12px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
header button{
  border:none;
  border-radius:20px;
  padding:6px 14px;
  font-weight:700;
  cursor:pointer;
}

/* PAINEL NACIONAL */
.painel-nacional{
  background:#0b3c6f;
  color:#fff;
  padding:14px;
  text-align:center;
  font-size:18px;
  font-weight:700;
}

/* CANDIDATOS */
.card{
  background:#fff;
  border-radius:14px;
  padding:16px;
  margin:16px;
  box-shadow:0 6px 16px rgba(0,0,0,.08)
}
.candidato{
  display:flex;
  gap:12px;
  margin-bottom:14px;
  align-items:center;
}
.candidato img{
  width:64px;
  height:64px;
  border-radius:50%;
  border:2px solid #002776
}
.barra{
  height:16px;
  background:#ddd;
  border-radius:20px;
  overflow:hidden;
  margin:6px 0
}
.barra span{
  display:block;
  height:100%;
  background:linear-gradient(90deg,#0b5ed7,#3d8bfd)
}
.percentual{
  font-weight:700;
  color:#002776
}

/* BOTÕES ELEITO / 2 TURNO */
.btn-eleito, .btn-2turno{
  border:none;
  padding:4px 8px;
  font-weight:700;
  color:#fff;
  border-radius:6px;
  cursor:pointer;
  margin-left:6px;
}
.btn-eleito{background:blue;}
.btn-2turno{background:orange;}

/* ESTADOS */
.grid-estados{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(90px,1fr));
  gap:10px;
}
.estado{
  background:#dee2e6;
  border-radius:12px;
  padding:8px;
  text-align:center;
  font-weight:700;
  cursor:pointer;
}
.estado.active{background:#0b5ed7;color:#fff;}
.estado small{display:block;font-size:12px;margin-top:4px;}

/* MODAL FUNDADOR */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:10;
}
.modal .box{
  background:#fff;
  width:520px;
  max-height:90vh;
  overflow:auto;
  border-radius:14px;
  padding:16px;
}
input,button,select{
  width:100%;
  padding:8px;
  margin-bottom:8px;
}
</style>
</head>
<body>

<header>
<strong>TSE – ELEIÇÕES GERAIS</strong>
<button onclick="login()">PAINEL DO FUNDADOR</button>
</header>

<div class="painel-nacional">
BRASIL — <span id="nacionalPct">0%</span> URNAS APURADAS
</div>

<main>
<!-- PRESIDENTE -->
<div class="card">
<h2>Presidente da República</h2>
<div id="listaPresidente"></div>
</div>

<!-- ESTADOS -->
<div class="card">
<h2>Urnas apuradas por estado</h2>
<div class="grid-estados" id="estados"></div>
</div>
</main>

<!-- MODAL -->
<div class="modal" id="painel">
<div class="box">
<h3>PAINEL DO FUNDADOR</h3>

<label>Estado (sigla)</label>
<input id="uf">

<label>% Urnas apuradas</label>
<input type="number" id="pctUrna" min="0" max="100">

<button onclick="salvarEstado()">Salvar estado</button>
<hr>

<h4>Adicionar candidato a presidente</h4>
<input id="nome" placeholder="Nome">
<input id="partido" placeholder="Partido">
<input type="number" id="votos" placeholder="Votos">
<input type="file" id="foto" accept="image/*">

<button onclick="addPresidente()">Adicionar</button>
<button onclick="fechar()">Fechar</button>
</div>
</div>

<script>
const estadosLista={
AC:"Acre",AL:"Alagoas",AP:"Amapá",AM:"Amazonas",BA:"Bahia",CE:"Ceará",
DF:"Distrito Federal",ES:"Espírito Santo",GO:"Goiás",MA:"Maranhão",
MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",
PA:"Pará",PB:"Paraíba",PR:"Paraná",PE:"Pernambuco",PI:"Piauí",
RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",
RO:"Rondônia",RR:"Roraima",SC:"Santa Catarina",SP:"São Paulo",
SE:"Sergipe",TO:"Tocantins",EXT:"Exterior"
};

let urnas={},presidente=[],eleitos={},votosExtras={branco:0,nulo:0};
Object.keys(estadosLista).forEach(e=>{
  urnas[e]=0;
  eleitos[e]={presidente:null};
});

const estados=document.getElementById("estados");
const listaPresidente=document.getElementById("listaPresidente");
const nacionalPct=document.getElementById("nacionalPct");
const painel=document.getElementById("painel");
const uf=document.getElementById("uf");
const pctUrna=document.getElementById("pctUrna");
const nome=document.getElementById("nome");
const partido=document.getElementById("partido");
const votos=document.getElementById("votos");
const foto=document.getElementById("foto");

function renderEstados(){
  estados.innerHTML="";
  let soma=0,qt=0;
  Object.keys(estadosLista).forEach(uf=>{
    soma+=urnas[uf]; qt++;
    const div=document.createElement("div");
    div.className="estado";
    div.innerHTML=`${uf}<small>${urnas[uf]}%</small>`;
    div.onclick=()=>selecionaEstado(uf);
    estados.appendChild(div);
  });
  nacionalPct.textContent=(soma/qt).toFixed(1)+"%";
}
renderEstados();

function salvarEstado(){
  const u=uf.value.toUpperCase();
  if(estadosLista[u]){
    urnas[u]=+pctUrna.value;
    renderEstados();
  }
}

function addPresidente(){
  if(!nome.value||!partido.value||!foto.files[0]) return alert("Preencha todos os campos");
  const r=new FileReader();
  r.onload=e=>{
    const candidato={
      nome:nome.value,
      partido:partido.value,
      votos:+votos.value,
      foto:e.target.result,
      eleito:false,
      segundoTurno:false
    };
    presidente.push(candidato);
    // espalha para todos os estados
    Object.keys(estadosLista).forEach(uf=>{
      if(!urnas[uf].candidatos) urnas[uf]={candidatos:[]};
      urnas[uf].candidatos.push({...candidato});
    });
    renderPresidente();
  };
  r.readAsDataURL(foto.files[0]);
}

function renderPresidente(){
  const total=presidente.reduce((s,c)=>s+c.votos,0)||1;
  listaPresidente.innerHTML="";
  presidente.forEach((c,i)=>{
    const pct=((c.votos/total)*100).toFixed(2);
    const div=document.createElement("div");
    div.className="candidato";
    div.innerHTML=`
      <img src="${c.foto}">
      <div>
        <strong>${c.nome}</strong> (${c.partido})
        <div class="barra"><span style="width:${pct}%"></span></div>
        <span class="percentual">${pct}% — ${c.votos.toLocaleString("pt-BR")}</span>
      </div>
      <button class="btn-eleito">${c.eleito?'ELEITO':'ELEITO'}</button>
      <button class="btn-2turno">${c.segundoTurno?'2º TURNO':'2º TURNO'}</button>
    `;
    // botoes
    div.querySelector(".btn-eleito").onclick=()=>{
      c.eleito=!c.eleito;
      c.segundoTurno=false;
      renderPresidente();
    };
    div.querySelector(".btn-2turno").onclick=()=>{
      c.segundoTurno=!c.segundoTurno;
      c.eleito=false;
      renderPresidente();
    };
    listaPresidente.appendChild(div);
  });
}

// Estado selecionado
let estadoSelecionado=null;
function selecionaEstado(uf){
  estadoSelecionado=uf;
  document.querySelectorAll(".estado").forEach(e=>e.classList.remove("active"));
  Array.from(estados.children).find(e=>e.textContent.includes(uf)).classList.add("active");
  alert(`Estado selecionado: ${uf}\nAqui você poderá gerenciar votos e cargos.`);
}

// Modal
function login(){if(prompt("Senha do fundador")==="2007") painel.style.display="flex";}
function fechar(){painel.style.display="none";}
</script>

</body>
</html>
qwa